# 브라우저 정적파일 여러개가 더 효과적인 이유

브라우저에서 정적 파일을 업로드할 때 용량이 적은 여러 파일이 용량이 많은 하나의 파일보다 더 빨리 업로드되는 이유는 주로 다음과 같은 네트워크와 브라우저의 특성에 기인합니다.

1. **병렬 요청(Parallel Requests)**: 브라우저는 서버로의 연결을 최적화하기 위해 병렬 요청을 사용합니다. HTTP/1.1에서는 한 도메인당 최대 6개의 병렬 연결을 허용하고, HTTP/2에서는 훨씬 더 많은 병렬 연결을 효율적으로 처리할 수 있습니다. 여러 개의 작은 파일은 이러한 병렬 연결을 통해 동시에 업로드되어 더 빠르게 전송될 수 있습니다. 반면, 하나의 큰 파일은 단일 연결을 통해 전송되므로 업로드 시간이 더 오래 걸립니다.

2. **헤더 오버헤드 감소(Header Overhead Reduction)**: 여러 개의 작은 파일을 전송할 때 각 파일마다 헤더 오버헤드가 발생하지만, 이 오버헤드는 상대적으로 작기 때문에 파일 크기가 작을수록 전체 전송에 미치는 영향이 적습니다. 큰 파일 하나를 전송할 때는 헤더 오버헤드는 작지만 파일 크기 자체가 크기 때문에 전송 시간이 길어질 수 있습니다.

3. **전송 제어 프로토콜(TCP) 효율성**: TCP 연결은 초기에는 느린 시작(slow start) 단계로 시작하여 점차적으로 전송 속도를 높입니다. 여러 개의 작은 파일을 전송할 때, 각 파일에 대해 새로운 TCP 연결이 설정될 수 있고, 이는 각 연결이 독립적으로 전송 속도를 높이는 기회를 제공할 수 있습니다. 그러나 하나의 큰 파일은 초기 느린 시작 단계 이후에도 계속해서 전송되므로 상대적으로 더 오랜 시간이 걸릴 수 있습니다.

4. **브라우저 및 서버 최적화**: 브라우저와 서버는 여러 개의 작은 파일을 동시에 처리하도록 최적화되어 있습니다. 특히 CDN(Content Delivery Network)을 사용하는 경우, 여러 개의 작은 파일은 각기 다른 서버에서 병렬로 전송될 수 있어 전송 속도가 더욱 빨라질 수 있습니다.

5. **HTTP/2 멀티플렉싱**: HTTP/2 프로토콜은 멀티플렉싱을 지원하여 단일 연결을 통해 여러 개의 파일을 동시에 전송할 수 있게 합니다. 이를 통해 여러 개의 작은 파일을 더 빠르게 전송할 수 있습니다.

결론적으로, 여러 개의 작은 파일이 하나의 큰 파일보다 더 빨리 업로드되는 이유는 병렬 요청, 헤더 오버헤드 감소, TCP 효율성, 브라우저 및 서버 최적화, 그리고 HTTP/2의 멀티플렉싱 기능 등 다양한 요인들이 복합적으로 작용하기 때문입니다. 이러한 네트워크와 프로토콜의 특성으로 인해 용량이 작은 여러 파일을 동시에 업로드하는 것이 용량이 큰 하나의 파일을 업로드하는 것보다 효율적일 수 있습니다.